<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Brazilian Roulette Assistant - Sistema profissional de analise de apostas em roleta">
    <meta name="theme-color" content="#0f0f1e">
    <title>Brazilian Roulette Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Background Animation -->
    <div class="background-animation" aria-hidden="true"></div>

    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Pular para o conteudo principal</a>

    <!-- Main Container -->
    <div class="container">

        <!-- Header -->
        <header class="header" role="banner">
            <div class="logo-container">
                <div class="logo-icon" aria-hidden="true">
                    <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="24" cy="24" r="22" stroke="currentColor" stroke-width="2"/>
                        <circle cx="24" cy="24" r="16" stroke="currentColor" stroke-width="1.5"/>
                        <circle cx="24" cy="10" r="3" fill="#DC143C"/>
                        <circle cx="36" cy="24" r="3" fill="#1a1a1a"/>
                        <circle cx="24" cy="38" r="3" fill="#DC143C"/>
                        <circle cx="12" cy="24" r="3" fill="#1a1a1a"/>
                    </svg>
                </div>
                <div class="logo-text">
                    <h1>Brazilian Roulette</h1>
                    <p>Sistema Profissional de Analise</p>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main id="main-content">

            <!-- Setup Screen -->
            <section id="setupScreen" class="screen active" aria-labelledby="setup-title">
                <div class="setup-card glass-card">
                    <h2 id="setup-title">Configuracao Inicial</h2>
                    <p class="subtitle">Configure sua banca e estrategias de aposta</p>

                    <form id="setupForm" class="setup-form" onsubmit="goToWarmup(event)">
                        <div class="form-group">
                            <label for="bankroll">
                                <span class="label-icon" aria-hidden="true">R$</span>
                                Banca Inicial
                            </label>
                            <input
                                type="number"
                                id="bankroll"
                                class="input-field"
                                placeholder="100.00"
                                step="0.50"
                                min="1"
                                value="100"
                                required
                                aria-describedby="bankroll-help"
                            >
                            <small id="bankroll-help" class="form-help">Valor minimo: R$ 1,00</small>
                        </div>

                        <fieldset class="form-group">
                            <legend>
                                <span class="label-icon" aria-hidden="true">&#9878;</span>
                                Estrategias Ativas
                            </legend>
                            <div class="strategies-grid" role="group">
                                <div class="strategy-checkbox">
                                    <input type="checkbox" id="strategy-COR" name="strategy" value="COR">
                                    <label for="strategy-COR">
                                        <span class="checkbox-visual" aria-hidden="true"></span>
                                        <span class="checkbox-label">
                                            <span class="strategy-name">Cor</span>
                                            <span class="strategy-desc">Vermelho/Preto</span>
                                        </span>
                                    </label>
                                </div>
                                <div class="strategy-checkbox">
                                    <input type="checkbox" id="strategy-PAR_IMPAR" name="strategy" value="PAR_IMPAR">
                                    <label for="strategy-PAR_IMPAR">
                                        <span class="checkbox-visual" aria-hidden="true"></span>
                                        <span class="checkbox-label">
                                            <span class="strategy-name">Par/Impar</span>
                                            <span class="strategy-desc">Numeros pares ou impares</span>
                                        </span>
                                    </label>
                                </div>
                                <div class="strategy-checkbox">
                                    <input type="checkbox" id="strategy-ALTO_BAIXO" name="strategy" value="ALTO_BAIXO">
                                    <label for="strategy-ALTO_BAIXO">
                                        <span class="checkbox-visual" aria-hidden="true"></span>
                                        <span class="checkbox-label">
                                            <span class="strategy-name">Alto/Baixo</span>
                                            <span class="strategy-desc">1-18 ou 19-36</span>
                                        </span>
                                    </label>
                                </div>
                                <div class="strategy-checkbox">
                                    <input type="checkbox" id="strategy-DUZIA" name="strategy" value="DUZIA">
                                    <label for="strategy-DUZIA">
                                        <span class="checkbox-visual" aria-hidden="true"></span>
                                        <span class="checkbox-label">
                                            <span class="strategy-name">Duzias</span>
                                            <span class="strategy-desc">1a, 2a ou 3a duzia</span>
                                        </span>
                                    </label>
                                </div>
                                <div class="strategy-checkbox">
                                    <input type="checkbox" id="strategy-COLUNA" name="strategy" value="COLUNA">
                                    <label for="strategy-COLUNA">
                                        <span class="checkbox-visual" aria-hidden="true"></span>
                                        <span class="checkbox-label">
                                            <span class="strategy-name">Colunas</span>
                                            <span class="strategy-desc">1a, 2a ou 3a coluna</span>
                                        </span>
                                    </label>
                                </div>
                                <div class="strategy-checkbox">
                                    <input type="checkbox" id="strategy-FRIO" name="strategy" value="FRIO">
                                    <label for="strategy-FRIO">
                                        <span class="checkbox-visual" aria-hidden="true"></span>
                                        <span class="checkbox-label">
                                            <span class="strategy-name">Numeros Frios</span>
                                            <span class="strategy-desc">Numeros em atraso</span>
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </fieldset>

                        <button type="submit" class="btn btn-primary">
                            Continuar
                            <span class="btn-arrow" aria-hidden="true">&#8594;</span>
                        </button>
                    </form>
                </div>
            </section>

            <!-- Warmup Screen -->
            <section id="warmupScreen" class="screen" aria-labelledby="warmup-title">
                <div class="warmup-card glass-card">
                    <h2 id="warmup-title">Aquecimento do Sistema</h2>
                    <p class="subtitle">Insira os ultimos 12 resultados (do mais recente ao mais antigo)</p>

                    <div class="warmup-progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="12">
                        <div class="progress-bar">
                            <div id="warmupProgressBar" class="progress-fill"></div>
                        </div>
                        <p class="progress-text">
                            <span id="warmupCount">0</span>/12 resultados
                        </p>
                    </div>

                    <form id="warmupForm" class="warmup-input-container" onsubmit="addWarmupNumber(event)">
                        <label for="warmupInput" class="sr-only">Numero da roleta</label>
                        <input
                            type="number"
                            id="warmupInput"
                            class="input-field warmup-input"
                            placeholder="Digite o numero (0-36)"
                            min="0"
                            max="36"
                            autocomplete="off"
                            aria-describedby="warmup-help"
                        >
                        <button type="submit" class="btn btn-add">
                            Adicionar
                        </button>
                    </form>
                    <small id="warmup-help" class="form-help center">Pressione Enter ou clique em Adicionar</small>

                    <div id="warmupNumbers" class="warmup-numbers" aria-live="polite" aria-label="Numeros adicionados"></div>

                    <div class="warmup-actions">
                        <button type="button" class="btn btn-secondary" onclick="clearWarmup()">
                            Limpar
                        </button>
                        <button id="startGameBtn" type="button" class="btn btn-primary" onclick="startGame()" disabled>
                            Iniciar Sistema
                            <span class="btn-arrow" aria-hidden="true">&#8594;</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Game Screen -->
            <section id="gameScreen" class="screen" aria-labelledby="game-title">
                <h2 id="game-title" class="sr-only">Tela de Jogo</h2>

                <!-- Stats Dashboard -->
                <div class="stats-dashboard" role="region" aria-label="Estatisticas">
                    <article class="stat-card glass-card">
                        <div class="stat-icon" aria-hidden="true">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <p class="stat-label">Banca Atual</p>
                            <p class="stat-value" id="currentBankroll">R$ 0,00</p>
                        </div>
                    </article>
                    <article class="stat-card glass-card">
                        <div class="stat-icon" aria-hidden="true">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <p class="stat-label">Resultado</p>
                            <p class="stat-value" id="profitLoss">R$ 0,00</p>
                        </div>
                    </article>
                    <article class="stat-card glass-card">
                        <div class="stat-icon" aria-hidden="true">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <p class="stat-label">Total de Giros</p>
                            <p class="stat-value" id="totalSpins">0</p>
                        </div>
                    </article>
                </div>

                <!-- Main Game Area -->
                <div class="game-area">

                    <!-- Left Panel - Input and Action -->
                    <div class="left-panel">

                        <!-- Number Input -->
                        <article class="input-card glass-card">
                            <h3>Novo Resultado</h3>
                            <form id="spinForm" class="number-input-container" onsubmit="processSpin(event)">
                                <label for="numberInput" class="sr-only">Numero que saiu</label>
                                <input
                                    type="number"
                                    id="numberInput"
                                    class="input-field number-input"
                                    placeholder="0-36"
                                    min="0"
                                    max="36"
                                    autocomplete="off"
                                    required
                                >
                                <button type="submit" class="btn btn-spin">
                                    Processar
                                </button>
                            </form>
                            <div id="lastNumber" class="last-number" aria-live="polite"></div>
                        </article>

                        <!-- Action Recommendation -->
                        <article class="action-card glass-card">
                            <h3>
                                <span class="icon" aria-hidden="true">&#9899;</span>
                                Acao Recomendada
                            </h3>
                            <div id="actionContent" class="action-content" role="alert" aria-live="assertive">
                                <p class="waiting-signal">Aguardando primeiro resultado...</p>
                            </div>
                        </article>

                        <!-- Active Signals -->
                        <article class="signals-card glass-card">
                            <h3>
                                <span class="icon" aria-hidden="true">&#9889;</span>
                                Sinais Ativos
                            </h3>
                            <div id="signalsContent" class="signals-content" aria-live="polite">
                                <p class="no-signals">Nenhum sinal ativo</p>
                            </div>
                        </article>

                    </div>

                    <!-- Right Panel - History and Analysis -->
                    <div class="right-panel">

                        <!-- History -->
                        <article class="history-card glass-card">
                            <h3>
                                <span class="icon" aria-hidden="true">&#128220;</span>
                                Historico Recente
                            </h3>
                            <div id="historyContent" class="history-content" aria-live="polite">
                                <p class="no-history">Nenhum historico ainda</p>
                            </div>
                        </article>

                        <!-- Hot & Cold Numbers -->
                        <article class="analysis-card glass-card">
                            <h3>
                                <span class="icon" aria-hidden="true">&#128293;</span>
                                Analise de Numeros
                            </h3>
                            <div class="hot-cold-container">
                                <div class="hot-numbers">
                                    <h4>Numeros Quentes</h4>
                                    <div id="hotNumbers" class="number-tags" aria-label="Numeros mais frequentes">
                                        <span class="number-tag hot">-</span>
                                    </div>
                                </div>
                                <div class="cold-numbers">
                                    <h4>Numeros Frios</h4>
                                    <div id="coldNumbers" class="number-tags" aria-label="Numeros menos frequentes">
                                        <span class="number-tag cold">-</span>
                                    </div>
                                </div>
                            </div>
                        </article>

                        <!-- Reset Button -->
                        <button type="button" class="btn btn-danger" onclick="confirmReset()">
                            Encerrar Sessao
                        </button>

                    </div>

                </div>

            </section>

        </main>

    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast" role="alert" aria-live="polite"></div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" aria-hidden="true">
        <div class="loading-spinner" aria-label="Carregando"></div>
        <p>Processando...</p>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-content glass-card">
            <h3 id="modal-title">Confirmar Acao</h3>
            <p id="modal-message">Tem certeza que deseja encerrar a sessao?</p>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancelar</button>
                <button type="button" class="btn btn-danger" onclick="executeReset()">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
